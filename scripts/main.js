!function e(t,n,o){function a(r,s){if(!n[r]){if(!t[r]){var l="function"==typeof require&&require;if(!s&&l)return l(r,!0);if(i)return i(r,!0);var u=new Error("Cannot find module '"+r+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[r]={exports:{}};t[r][0].call(c.exports,function(e){var n=t[r][1][e];return a(n?n:e)},c,c.exports,e,t,n,o)}return n[r].exports}for(var i="function"==typeof require&&require,r=0;r<o.length;r++)a(o[r]);return a}({1:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}var a=e("./GSheet"),i=o(a),r=e("./Time"),s=o(r),l=e("./Gallery"),u=o(l),c=e("./TimeAlert"),f=o(c),d=e("./Announcement"),h=o(d),m=e("./Dashboard"),p=o(m),v=e("./EventTimetable"),g=o(v);$(function(){i["default"].initialize(function(){1===$("[data-time]").length&&new s["default"],1===$("[data-gallery]").length&&new u["default"],1===$("[data-timealert]").length&&new f["default"],1===$("[data-announcement]").length&&new h["default"],1===$("[data-dashboard]").length&&new p["default"],1===$("[data-event-timetable]").length&&new g["default"]})})},{"./Announcement":2,"./Dashboard":3,"./EventTimetable":4,"./GSheet":5,"./Gallery":6,"./Time":8,"./TimeAlert":9}],2:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=function(e,t,n){for(var o=!0;o;){var a=e,i=t,r=n;s=u=l=void 0,o=!1;var s=Object.getOwnPropertyDescriptor(a,i);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(r)}var u=Object.getPrototypeOf(a);if(null===u)return void 0;e=u,t=i,n=r,o=!0}},l=e("./Presentation"),u=o(l),c=e("./GSheet"),f=o(c),d=function(e){function t(){var e=this;a(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.el={root:$("#announcement"),background:$("#announcementBackground"),title:$("#announcementTitle"),content:$("#announcementContent")},this.title="",this.content="",this.image="",this.loadData(function(t){e.dataLoaded(t)})}return i(t,e),r(t,[{key:"resetContent",value:function(){this.el.root.removeClass("has-background empty-text"),this.el.background.css("background-image",""),this.el.title.empty(),this.el.content.empty()}},{key:"loadData",value:function(e){var t=this,n=f["default"].assembleJSONUrl("ANNOUNCEMENT");$.getJSON(n).done(function(n){var o=n.feed.entry[0],a=o.gsx$content.$t;return a=a.replace(/\n{2}/g,"</p><p>"),a=a.replace(/\n/g,"<br />"),a="<p>"+a+"</p>",t.title=o.gsx$title.$t,t.content=a,t.image=o.gsx$picture.$t,e("success")}).fail(function(t,n,o){return e(o)})}},{key:"loadToView",value:function(){this.el.title.html(this.title),this.el.content.html(this.content),""!==this.image&&(this.el.background.css("background-image","url("+this.image+")"),this.el.root.addClass("has-background")),""===this.title&&"<p></p>"===this.content&&this.el.root.addClass("empty-text")}},{key:"fitContent",value:function(){this.el.root.css({width:this.el.root.outerWidth(),height:this.el.root.outerHeight()}),textFit(this.el.root[0],{alignHoriz:!0,alignVert:!0,minFontSize:14,maxFontSize:36}),this.el.title=$("#announcementTitle"),this.el.content=$("#announcementContent")}},{key:"dataLoaded",value:function(e){"success"===e&&(this.loadToView(),this.fitContent()),s(Object.getPrototypeOf(t.prototype),"dataLoaded",this).call(this,e)}}]),t}(u["default"]);n["default"]=d,t.exports=n["default"]},{"./GSheet":5,"./Presentation":7}],3:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var r=function(e,t,n){for(var o=!0;o;){var a=e,i=t,r=n;s=u=l=void 0,o=!1;var s=Object.getOwnPropertyDescriptor(a,i);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(r)}var u=Object.getPrototypeOf(a);if(null===u)return void 0;e=u,t=i,n=r,o=!0}},s=e("./Presentation"),l=o(s),u=function(e){function t(){a(this,t),r(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.dataLoaded("success")}return i(t,e),t}(l["default"]);n["default"]=u,t.exports=n["default"]},{"./Presentation":7}],4:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=function(e,t,n){for(var o=!0;o;){var a=e,i=t,r=n;s=u=l=void 0,o=!1;var s=Object.getOwnPropertyDescriptor(a,i);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(r)}var u=Object.getPrototypeOf(a);if(null===u)return void 0;e=u,t=i,n=r,o=!0}},l=e("./Presentation"),u=o(l),c=e("./GSheet"),f=o(c),d=function(e){function t(){var e=this;a(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.schedule=[],this.message="",this.el={root:$("#eventTimetable"),message:$("#eventTimetableMessage"),entries:$("#eventTimetableEntries"),entryTemplate:$("#eventTimetableEntryTemplate")},this.loadData(function(t){e.dataLoaded(t)})}return i(t,e),r(t,[{key:"resetContent",value:function(){this.el.message.empty(),this.el.entries.empty().append(this.el.entry),this.schedule=[],this.message=""}},{key:"loadData",value:function(e){var t=this;$.getJSON(f["default"].assembleJSONUrl("EVENTTIMETABLE")).done(function(n){for(var o=0;o<n.feed.entry.length;o++){var a=n.feed.entry[o];t.message=""!==a.gsx$message.$t?a.gsx$message.$t:t.message;var i=a.gsx$schedulename.$t,r=a.gsx$starttimes.$t.split(":",2),s=new Date;r=new moment([s.getFullYear(),s.getMonth(),s.getDate(),r[0],r[1],0]);var l=a.gsx$endtimes.$t.split(":",2);l=new moment([s.getFullYear(),s.getMonth(),s.getDate(),l[0],l[1],0]),t.schedule.push({title:i,subtitle:a.gsx$subtitle.$t,type:a.gsx$type.$t,speaker:a.gsx$speaker.$t,location:a.gsx$location.$t,start:r,end:l})}return e("success")}).fail(function(t,n,o){return e(o)})}},{key:"getTemplate",value:function(){return this.el.entryTemplate.attr("id","")}},{key:"insertContent",value:function(e){var t=void 0===arguments[1]?this.getTemplate():arguments[1],n=void 0===arguments[2]?moment():arguments[2],o=t.appendTo(this.el.entries),a=$(".event-timetable-entry-title",o),i=$(".event-timetable-entry-subtitle",o),r=$(".event-timetable-entry-speaker",o),s=$(".event-timetable-entry-location",o),l=$(".event-timetable-entry-start",o),u=$(".event-timetable-entry-end",o);n>=e.start&&n<e.end&&o.addClass("-ongoing"),a.append(e.title),i.append(e.subtitle),r.append(e.speaker),s.append(e.location),l.append(e.start.format("HH:mm")),u.append(e.end.format("HH:mm"))}},{key:"dataLoaded",value:function(e){if("success"===e){this.el.message.text(this.message);for(var n=this.getTemplate(),o=moment(),a=0;a<this.schedule.length;a++)this.insertContent(this.schedule[a],n.clone(),o);n.remove(),tinysort($(".event-timetable-entry"),{selector:".event-timetable-entry-start",useFlex:!1}),this.updateEventAvailability($(".event-timetable-entry"))}s(Object.getPrototypeOf(t.prototype),"dataLoaded",this).call(this,e)}},{key:"updateEventAvailability",value:function(e){var t=this,n=moment(),o=0,a=0,i=void 0;e.each(function(){var e=$(this),t=moment($(".event-timetable-entry-start",this).text(),"HH:mm"),r=moment($(".event-timetable-entry-end",this).text(),"HH:mm");n>=t&&r>n?(e.addClass("-ongoing"),a+=e.outerHeight(),(0===o||o>e.offset().top)&&(o=e.offset().top)):(e.removeClass("-ongoing"),t>n&&void 0===i&&(i=e.offset().top))}),a>$("html").height()?$("body").velocity("scroll",{offset:o-this.el.message.outerHeight()}).velocity("scroll",{offset:o+(a-$("html").height()),loop:!0,duration:(6e4-1e3*n.seconds()-n.milliseconds())/2}):$("body").velocity("scroll",{offset:(o||i)-this.el.message.outerHeight()}),setTimeout(function(){t.updateEventAvailability(e)},6e4-1e3*n.seconds()-n.milliseconds())}}]),t}(u["default"]);n["default"]=d,t.exports=n["default"]},{"./GSheet":5,"./Presentation":7}],5:[function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=function(){function e(){o(this,e)}return a(e,null,[{key:"initialize",value:function(){var e=this,t=void 0===arguments[0]?function(){}:arguments[0];this.sheetID="1OmNdBJjC71iyXzih4YTBdlxzDwCEjBkac8oW6kJBYIw",this.sheetEnum={},$.getJSON("http://crossorigin.me/https://spreadsheets.google.com/feeds/worksheets/"+this.sheetID+"/public/values?alt=json").done(function(n){for(var o=0;o<n.feed.entry.length;o++){var a=n.feed.entry[o],i=a.title.$t.toUpperCase().replace(/ /g,"");e.sheetEnum[i]=o+1}t()}).fail(function(e,t,n){throw n})}},{key:"assembleJSONUrl",value:function(e){var t=void 0===arguments[1]?"list":arguments[1];return"http://crossorigin.me/https://spreadsheets.google.com/feeds/"+t+"/"+this.sheetID+"/"+this.sheetEnum[e]+"/public/values?alt=json"}}]),e}();n["default"]=i,t.exports=n["default"]},{}],6:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=function(e,t,n){for(var o=!0;o;){var a=e,i=t,r=n;s=u=l=void 0,o=!1;var s=Object.getOwnPropertyDescriptor(a,i);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(r)}var u=Object.getPrototypeOf(a);if(null===u)return void 0;e=u,t=i,n=r,o=!0}},l=e("./Presentation"),u=o(l),c=e("./GSheet"),f=o(c),d=function(e){function t(){var e=this;a(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.slideDuration=6e4,this.images=[],this.loadData(function(t){e.dataLoaded(t)}),this.el={root:$("#gallery"),image:$("#galleryImage"),background:$("#galleryBackground"),captionBackground:$("#galleryCaptionBackground"),caption:$("#galleryCaption"),miniInfo:$("#galleryMiniInfo")},this.imageCycler=null,this.slideViewTimeouts=[]}return i(t,e),r(t,[{key:"resetContent",value:function(){this.images=[],clearInterval(this.imageCycler);for(var e=0;e<this.slideViewTimeouts.length;e++)clearTimeout(this.slideViewTimeouts[e]);this.el.root.removeClass("caption loading")}},{key:"dataLoaded",value:function(e){"success"===e&&(this.preloadImages(),this.el.background.css("animation-duration",4*this.slideDuration/3+"ms"),this.el.captionBackground.css("animation-duration",4*this.slideDuration/3+"ms"),this.imageIterator=Math.floor(Math.random()*(this.images.length-1)),this.setSlideView(this.images[this.imageIterator]),this.imageCycler=this.cycleImages()),s(Object.getPrototypeOf(t.prototype),"dataLoaded",this).call(this,e)}},{key:"loadData",value:function(e){var t=this,n=f["default"].assembleJSONUrl("GALLERY");$.getJSON(n).done(function(n){for(var o=0;o<n.feed.entry.length;o++){var a=n.feed.entry[o],i=a.gsx$content.$t;i=i.replace(/\n{2}/g,"</p><p>"),i=i.replace(/\n/g,"<br />"),i="<p>"+i+"</p>",t.images.push({image:a.gsx$image.$t,name:a.gsx$title.$t,author:a.gsx$author.$t,text:i})}return e("success")}).fail(function(t,n,o){return e(o)})}},{key:"preloadImages",value:function(){for(var e=0;e<this.images.length;e++)$("<img />").attr("src",this.images[e].image)}},{key:"setSlideView",value:function(e){var t=this;this.slideViewTimeouts=[],this.loadImage(e),this.slideViewTimeouts.push(setTimeout(function(){t.el.root.addClass("caption")},this.slideDuration/3)),this.slideViewTimeouts.push(setTimeout(function(){t.el.root.removeClass("caption")},this.slideDuration-5e3)),this.slideViewTimeouts.push(setTimeout(function(){t.el.root.addClass("loading")},this.slideDuration-2e3))}},{key:"cycleImages",value:function(){var e=this;return setInterval(function(){++e.imageIterator>e.images.length-1&&(e.imageIterator=0),e.setSlideView(e.images[e.imageIterator])},this.slideDuration)}},{key:"formatCaption",value:function(e){return"<h1>"+e.name+"</h1><p>By "+e.author+"</p>"+e.text}},{key:"formatMiniInfo",value:function(e){return"<strong>"+e.name+"</strong> by <em>"+e.author+"</em>"}},{key:"loadImage",value:function(e){var t=this,n="url("+e.image+")";this.el.background.removeClass("animate"),this.el.captionBackground.removeClass("animate"),this.el.image.attr("src",e.image),this.el.background.css("background-image",n),this.el.captionBackground.css("background-image",n),this.el.caption.html(this.formatCaption(e)),this.el.miniInfo.html(this.formatMiniInfo(e)),setTimeout(function(){t.el.background.addClass("animate"),t.el.captionBackground.addClass("animate"),t.el.root.removeClass("loading").addClass("loaded")},500),setTimeout(function(){t.el.root.removeClass("loaded")},this.slideDuration/2)}}]),t}(u["default"]);n["default"]=d,t.exports=n["default"]},{"./GSheet":5,"./Presentation":7}],7:[function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=function(){function e(){var t=this;o(this,e),this.keypressWait=!1,$(document).on("keypress",function(e){114===e.keyCode&&t.keypressWait===!1&&(t.keypressWait=!0,t.reloadContent())})}return a(e,[{key:"dataLoaded",value:function(e){$("body").addClass("success"===e?"loaded":"load-fail")}},{key:"reloadContent",value:function(){var e=this;$("body").removeClass("loaded load-fail"),this.resetContent(),this.loadData(function(t){e.dataLoaded(t),e.keypressWait=!1})}}]),e}();n["default"]=i,t.exports=n["default"]},{}],8:[function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=function(){function e(){o(this,e);var t=this.getTime();this.$element=$("[data-time]"),this.$element.html(t.format("h:mm:ss a")),this.updateTime(t)}return a(e,[{key:"updateTime",value:function(e){var t=this;return setTimeout(function(){var e=t.getTime();t.$element.html(e.format("h:mm:ss a")),t.updateTime(e)},1e3-e.format("x").slice(-3))}},{key:"getTime",value:function(){return moment().tz("Australia/Sydney")}}]),e}();n["default"]=i,t.exports=n["default"]},{}],9:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=function(e,t,n){for(var o=!0;o;){var a=e,i=t,r=n;s=u=l=void 0,o=!1;var s=Object.getOwnPropertyDescriptor(a,i);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(r)}var u=Object.getPrototypeOf(a);if(null===u)return void 0;e=u,t=i,n=r,o=!0}},l=e("./Presentation"),u=o(l),c=e("./GSheet"),f=o(c),d=function(e){function t(){var e=this;a(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.el={countdown:$("#timeAlertCountdown"),svg:$("#timeAlertSvg"),title:$("#timeAlertTitle")},this.times=[],this.loadData(function(t){e.dataLoaded(t)})}return i(t,e),r(t,[{key:"resetContent",value:function(){window.clearInterval(this.countdown)}},{key:"loadData",value:function(e){var t=this,n=f["default"].assembleJSONUrl("TIME"),o=new Date;$.getJSON(n).done(function(n){for(var a=0;a<n.feed.entry.length;a++){var i=n.feed.entry[a],r=i.gsx$classtimes.$t.split(":",2);r=new Date(o.getFullYear(),o.getMonth(),o.getDate(),r[0],r[1],0);var s=i.gsx$endtimes.$t.split(":",2);s=new Date(o.getFullYear(),o.getMonth(),o.getDate(),s[0],s[1],0),t.times.push({start:r,end:s})}return e("success")}).fail(function(t,n,o){return e(o)})}},{key:"dataLoaded",value:function(e){var n=this;if("success"===e){var o=this.calculateNearestClass(new Date);this.countdown=countdown(function(e){n.update(e)},o.start)}s(Object.getPrototypeOf(t.prototype),"dataLoaded",this).call(this,e)}},{key:"calculateNearestClass",value:function(e){for(var t=0;t<this.times.length;t++)if(e<this.times[t].start)return this.times[t];var n={start:new Date(new Date(this.times[0].start).setDate(this.times[0].start.getDate()+1)),end:new Date(this.times[0].end)};return n}},{key:"update",value:function(e){e.value<0&&(this.el.title.html("You're late!"),e.minutes>=15&&this.clearCountdown());var t="",n=e.minutes;0!==e.hours&&(t=e.hours+":",n=("0"+e.minutes).slice(-2)),this.el.countdown.html(t+n+":"+("0"+e.seconds).slice(-2))}},{key:"clearCountdown",value:function(){window.clearInterval(this.countdown)}}]),t}(u["default"]);n["default"]=d,t.exports=n["default"]},{"./GSheet":5,"./Presentation":7}]},{},[1]);